var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
import { Injectable } from '@angular/core';
/**
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        }
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true
        };
    };
}
var PhotoLibrary = /** @class */ (function (_super) {
    __extends(PhotoLibrary, _super);
    function PhotoLibrary() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibrary.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibrary.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibrary.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibrary.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibrary.pluginName = "PhotoLibrary";
    PhotoLibrary.plugin = "cordova-plugin-photo-library";
    PhotoLibrary.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibrary.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibrary.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibrary.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibrary.platforms = ["Android", "Browser", "iOS"];
    PhotoLibrary = __decorate([
        Injectable()
    ], PhotoLibrary);
    return PhotoLibrary;
}(IonicNativePlugin));
export { PhotoLibrary };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL3Bob3RvLWxpYnJhcnkvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLDhCQU1OLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUFFLFVBQVUsRUFBWSxNQUFNLE1BQU0sQ0FBQztBQUM1QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBZ0IzQzs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLHVCQUF1QixDQUNyQyxJQUF5QztJQUF6QyxxQkFBQSxFQUFBLFNBQXlDO0lBRXpDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLE9BQU8sVUFDTCxNQUFjLEVBQ2QsVUFBa0IsRUFDbEIsVUFBd0M7UUFFeEMsT0FBTztZQUNMLEtBQUssRUFBTDtnQkFBTSxjQUFjO3FCQUFkLFVBQWMsRUFBZCxxQkFBYyxFQUFkLElBQWM7b0JBQWQseUJBQWM7O2dCQUNsQixJQUFNLGlCQUFpQixHQUFvQixJQUFJLENBQzdDLElBQUksRUFDSixVQUFVLEVBQ1YsSUFBSSxDQUNMLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDcEIsT0FBTyxJQUFJLFVBQVUsQ0FBTSxVQUFDLFFBQXVCO29CQUNqRCxJQUFNLG1CQUFtQixHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQzt3QkFDdEQsSUFBSSxFQUFFLFVBQUMsQ0FBTTs0QkFDWCxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNsRSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7Z0NBQzdELFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQzs2QkFDckI7d0JBQ0gsQ0FBQzt3QkFDRCxLQUFLLEVBQUUsVUFBQyxHQUFROzRCQUNkLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ3RCLENBQUM7d0JBQ0QsUUFBUSxFQUFFOzRCQUNSLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQzt3QkFDdEIsQ0FBQztxQkFDRixDQUFDLENBQUM7b0JBQ0gsT0FBTzt3QkFDTCxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDcEMsQ0FBQyxDQUFDO2dCQUNKLENBQUMsQ0FBQyxDQUFDO1lBQ0wsQ0FBQztZQUNELFVBQVUsRUFBRSxJQUFJO1NBQ2pCLENBQUM7SUFDSixDQUFDLENBQUM7QUFDSixDQUFDOztJQWtEaUMsZ0NBQWlCOzs7O0lBU2pELGlDQUFVLGFBQUMsT0FBNkIsRUFBRSxLQUEyQixFQUFFLE9BQTJCO0lBWWxHLDJDQUFvQixhQUFDLE9BQXFDO0lBVzFELGdDQUFTO0lBY1Qsc0NBQWUsYUFDYixLQUEyQixFQUMzQixPQUE2QjtJQWUvQixrQ0FBVyxhQUFDLEtBQTJCLEVBQUUsT0FBYTtJQWN0RCxtQ0FBWSxhQUNWLEtBQTJCLEVBQzNCLE9BQTZCO0lBZS9CLCtCQUFRLGFBQUMsS0FBMkIsRUFBRSxPQUFhO0lBZ0JuRCxnQ0FBUyxhQUNQLEdBQVcsRUFDWCxLQUF5QixFQUN6QixPQUE2QjtJQWUvQixnQ0FBUyxhQUFDLEdBQVcsRUFBRSxLQUF5Qjs7Ozs7Ozs7SUFoSXJDLFlBQVk7UUFEeEIsVUFBVSxFQUFFO09BQ0EsWUFBWTt1QkF0SHpCO0VBc0hrQyxpQkFBaUI7U0FBdEMsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvcmRvdmEsXG4gIENvcmRvdmFPcHRpb25zLFxuICBJb25pY05hdGl2ZVBsdWdpbixcbiAgUGx1Z2luLFxuICB3cmFwXG59IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBPYnNlcnZlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgZXh0ZW5kcyBDb3Jkb3ZhT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGdldHMgYSByZXN1bHQgcmV0dXJuZWQgZnJvbSBwbHVnaW4ncyBzdWNjZXNzIGNhbGxiYWNrLCBhbmQgZGVjaWRlcyB3aGV0aGVyIGl0IGlzIGxhc3QgdmFsdWUgYW5kIG9ic2VydmFibGUgc2hvdWxkIGNvbXBsZXRlLlxuICAgKi9cbiAgcmVzdWx0RmluYWxQcmVkaWNhdGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGFmdGVyIHJlc3VsdEZpbmFsUHJlZGljYXRlLCBhbmQgcmVtb3ZlcyBzZXJ2aWNlIGRhdGEgdGhhdCBpbmRpY2F0ZXMgZW5kIG9mIHN0cmVhbSBmcm9tIHRoZSByZXN1bHQuXG4gICAqL1xuICByZXN1bHRUcmFuc2Zvcm0/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICpcbiAqIFdyYXBzIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBiZSBjb21wbGV0ZWQuIFByb3ZpZGVkIG9wdHMucmVzdWx0RmluYWxQcmVkaWNhdGUgZGljdGF0ZXMgd2hlbiB0aGUgb2JzZXJ2YWJsZSBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZShcbiAgb3B0czogQ29yZG92YUZpbml0ZU9ic2VydmFibGVPcHRpb25zID0ge31cbikge1xuICBvcHRzLm9ic2VydmFibGUgPSB0cnVlO1xuICByZXR1cm4gKFxuICAgIHRhcmdldDogT2JqZWN0LFxuICAgIG1ldGhvZE5hbWU6IHN0cmluZyxcbiAgICBkZXNjcmlwdG9yOiBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjxhbnk+XG4gICkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZSguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkT2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxhbnk+ID0gd3JhcChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAgICAgb3B0c1xuICAgICAgICApLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8YW55Pigob2JzZXJ2ZXI6IE9ic2VydmVyPGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB3cmFwcGVkU3Vic2NyaXB0aW9uID0gd3JhcHBlZE9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgIG5leHQ6ICh4OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChvcHRzLnJlc3VsdFRyYW5zZm9ybSA/IHhbb3B0cy5yZXN1bHRUcmFuc2Zvcm1dIDogeCk7XG4gICAgICAgICAgICAgIGlmIChvcHRzLnJlc3VsdEZpbmFsUHJlZGljYXRlICYmIHhbb3B0cy5yZXN1bHRGaW5hbFByZWRpY2F0ZV0pIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmFtZSBQaG90byBMaWJyYXJ5XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBQaG90b0xpYnJhcnkgcGx1Z2luIGFsbG93cyBhY2Nlc3MgdG8gcGhvdG9zIGZyb20gZGV2aWNlIGJ5IHVybC4gU28geW91IGNhbiB1c2UgcGxhaW4gaW1nIHRhZyB0byBkaXNwbGF5IHBob3RvcyBhbmQgdGhlaXIgdGh1bWJuYWlscywgYW5kIGRpZmZlcmVudCAzcmQgcGFydHkgbGlicmFyaWVzIGFzIHdlbGwuXG4gKiBTYXZpbmcgcGhvdG9zIGFuZCB2aWRlb3MgdG8gdGhlIGxpYnJhcnkgaXMgYWxzbyBzdXBwb3J0ZWQuXG4gKiBjZHZwaG90b2xpYnJhcnkgdXJscyBzaG91bGQgYmUgdHJ1c3RlZCBieSBBbmd1bGFyLiBTZWUgcGx1Z2luIGhvbWVwYWdlIHRvIGxlYXJuIGhvdy5cbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFBob3RvTGlicmFyeSB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvcGhvdG8tbGlicmFyeS9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgcGhvdG9MaWJyYXJ5OiBQaG90b0xpYnJhcnkpIHsgfVxuICpcbiAqIHRoaXMucGhvdG9MaWJyYXJ5LnJlcXVlc3RBdXRob3JpemF0aW9uKCkudGhlbigoKSA9PiB7XG4gKiAgIHRoaXMucGhvdG9MaWJyYXJ5LmdldExpYnJhcnkoKS5zdWJzY3JpYmUoe1xuICogICAgIG5leHQ6IGxpYnJhcnkgPT4ge1xuICogICAgICAgbGlicmFyeS5mb3JFYWNoKGZ1bmN0aW9uKGxpYnJhcnlJdGVtKSB7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmlkKTsgICAgICAgICAgLy8gSUQgb2YgdGhlIHBob3RvXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLnBob3RvVVJMKTsgICAgLy8gQ3Jvc3MtcGxhdGZvcm0gYWNjZXNzIHRvIHBob3RvXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLnRodW1ibmFpbFVSTCk7Ly8gQ3Jvc3MtcGxhdGZvcm0gYWNjZXNzIHRvIHRodW1ibmFpbFxuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5maWxlTmFtZSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLndpZHRoKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uaGVpZ2h0KTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uY3JlYXRpb25EYXRlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ubGF0aXR1ZGUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5sb25naXR1ZGUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5hbGJ1bUlkcyk7ICAgIC8vIGFycmF5IG9mIGlkcyBvZiBhcHByb3ByaWF0ZSBBbGJ1bUl0ZW0sIG9ubHkgb2YgaW5jbHVkZUFsYnVtc0RhdGEgd2FzIHVzZWRcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKiAgICAgZXJyb3I6IGVyciA9PiB7IGNvbnNvbGUubG9nKCdjb3VsZCBub3QgZ2V0IHBob3RvcycpOyB9LFxuICogICAgIGNvbXBsZXRlOiAoKSA9PiB7IGNvbnNvbGUubG9nKCdkb25lIGdldHRpbmcgcGhvdG9zJyk7IH1cbiAqICAgfSk7XG4gKiB9KVxuICogLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZygncGVybWlzc2lvbnMgd2VyZW5cXCd0IGdyYW50ZWQnKSk7XG4gKlxuICogYGBgXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnUGhvdG9MaWJyYXJ5JyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeScsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5waG90b0xpYnJhcnknLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3Rlcmlrb24vY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeScsXG4gIGluc3RhbGw6XG4gICAgJ2lvbmljIGNvcmRvdmEgcGx1Z2luIGFkZCBjb3Jkb3ZhLXBsdWdpbi1waG90by1saWJyYXJ5IC0tdmFyaWFibGUgUEhPVE9fTElCUkFSWV9VU0FHRV9ERVNDUklQVElPTj1cIlRvIGNob29zZSBwaG90b3NcIicsXG4gIGluc3RhbGxWYXJpYWJsZXM6IFsnUEhPVE9fTElCUkFSWV9VU0FHRV9ERVNDUklQVElPTiddLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdCcm93c2VyJywgJ2lPUyddXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFBob3RvTGlicmFyeSBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIFJldHJpZXZlcyBsaWJyYXJ5IGl0ZW1zLiBMaWJyYXJ5IGl0ZW0gY29udGFpbnMgcGhvdG8gbWV0YWRhdGEgbGlrZSB3aWR0aCBhbmQgaGVpZ2h0LCBhcyB3ZWxsIGFzIHBob3RvVVJMIGFuZCB0aHVtYm5haWxVUkwuXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRMaWJyYXJ5T3B0aW9uc30gT3B0aW9uYWwsIGxpa2UgdGh1bWJuYWlsIHNpemUgYW5kIGNodW5rcyBzZXR0aW5ncy5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxMaWJyYXJ5SXRlbVtdPn0gUmV0dXJucyBsaWJyYXJ5IGl0ZW1zLiBJZiBhcHByb3ByaWF0ZSBvcHRpb24gd2FzIHNldCwgd2lsbCBiZSByZXR1cm5lZCBieSBjaHVua3MuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgb2JzZXJ2YWJsZTogdHJ1ZVxuICB9KVxuICBnZXRMaWJyYXJ5KHN1Y2Nlc3M/OiAocmVzPzogYW55KSA9PiB2b2lkLCBlcnJvcj86IChlcnI/OiBhbnkpID0+IHZvaWQsIG9wdGlvbnM/OiBHZXRMaWJyYXJ5T3B0aW9ucyk6IE9ic2VydmFibGU8TGlicmFyeUl0ZW1bXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc2tzIHVzZXIgcGVybWlzc2lvbiB0byBhY2Nlc3MgcGhvdG8gbGlicmFyeS5cbiAgICogQHBhcmFtIG9wdGlvbnMge1JlcXVlc3RBdXRob3JpemF0aW9uT3B0aW9uc30gT3B0aW9uYWwsIGxpa2Ugd2hldGhlciBvbmx5IHJlYWQgYWNjZXNzIG5lZWRlZCBvciByZWFkL3dyaXRlLlxuICAgKiBAcmV0dXJuIHsgUHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHBlcm1pc3Npb25zIGFyZSBncmFudGVkLCBhbmQgZmFpbHMgd2hlbiBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgY2FsbGJhY2tPcmRlcjogJ3JldmVyc2UnXG4gIH0pXG4gIHJlcXVlc3RBdXRob3JpemF0aW9uKG9wdGlvbnM/OiBSZXF1ZXN0QXV0aG9yaXphdGlvbk9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIHBob3RvIGFsYnVtcyBvbiBkZXZpY2UuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QWxidW1JdGVtW10+fSBSZXNvbHZlcyB0byBsaXN0IG9mIGFsYnVtcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZSdcbiAgfSlcbiAgZ2V0QWxidW1zKCk6IFByb21pc2U8QWxidW1JdGVtW10+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgbWVhbnMgdG8gcmVxdWVzdCBVUkwgb2YgdGh1bWJuYWlsLCB3aXRoIHNwZWNpZmllZCBzaXplIG9yIHF1YWxpdHkuXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9mIHBob3RvLCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBSZXNvbHZlcyB0byBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMlxuICB9KVxuICBnZXRUaHVtYm5haWxVUkwoXG4gICAgcGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLFxuICAgIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zXG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIG1lYW5zIHRvIHJlcXVlc3QgcGhvdG8gVVJMIGJ5IGlkLlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFBob3RvT3B0aW9uc30gT3B0aW9uYWwgb3B0aW9ucy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBSZXNvbHZlcyB0byBVUkwgb2YgY2R2cGhvdG9saWJyYXJ5IHNjaGVtYS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMlxuICB9KVxuICBnZXRQaG90b1VSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRodW1ibmFpbCBhcyBCbG9iLlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxCbG9iPn0gUmVzb2x2ZXMgcmVxdWVzdGVkIHRodW1ibmFpbCBhcyBibG9iLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyXG4gIH0pXG4gIGdldFRodW1ibmFpbChcbiAgICBwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sXG4gICAgb3B0aW9ucz86IEdldFRodW1ibmFpbE9wdGlvbnNcbiAgKTogUHJvbWlzZTxCbG9iPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgcGhvdG8gYXMgQmxvYi5cbiAgICogQHBhcmFtIHBob3RvIHtzdHJpbmcgfCBMaWJyYXJ5SXRlbX0gSWQgb3IgTGlicmFyeUl0ZW0uXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRQaG90b09wdGlvbnN9IE9wdGlvbmFsIG9wdGlvbnMuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QmxvYj59IFJlc29sdmVzIHJlcXVlc3RlZCBwaG90byBhcyBibG9iLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyXG4gIH0pXG4gIGdldFBob3RvKHBob3RvOiBzdHJpbmcgfCBMaWJyYXJ5SXRlbSwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8QmxvYj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlcyBpbWFnZSB0byBzcGVjaWZpZWQgYWxidW0uIEFsYnVtIHdpbGwgYmUgY3JlYXRlZCBpZiBub3QgZXhpc3RzLlxuICAgKiBMaWJyYXJ5SXRlbSB0aGF0IHJlcHJlc2VudHMgc2F2ZWQgaW1hZ2UgaXMgcmV0dXJuZWQuXG4gICAqIEBwYXJhbSB1cmwge3N0cmluZ30gVVJMIG9mIGEgZmlsZSwgb3IgRGF0YVVSTC5cbiAgICogQHBhcmFtIGFsYnVtIHtBbGJ1bUl0ZW0gfCBzdHJpbmd9IE5hbWUgb2YgYW4gYWxidW0gb3IgQWxidW1JdGVtIG9iamVjdC5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgZm9yIHJlc3VsdGluZyBMaWJyYXJ5SXRlbS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxMaWJyYXJ5SXRlbT59IFJlc29sdmVzIHRvIExpYnJhcnlJdGVtIHRoYXQgcmVwcmVzZW50cyBzYXZlZCBpbWFnZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDIsXG4gICAgZXJyb3JJbmRleDogM1xuICB9KVxuICBzYXZlSW1hZ2UoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgYWxidW06IEFsYnVtSXRlbSB8IHN0cmluZyxcbiAgICBvcHRpb25zPzogR2V0VGh1bWJuYWlsT3B0aW9uc1xuICApOiBQcm9taXNlPExpYnJhcnlJdGVtPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIHZpZGVvIHRvIHNwZWNpZmllZCBhbGJ1bS4gQWxidW0gd2lsbCBiZSBjcmVhdGVkIGlmIG5vdCBleGlzdHMuXG4gICAqIEBwYXJhbSB1cmwge3N0cmluZ30gVVJMIG9mIGEgZmlsZSwgb3IgRGF0YVVSTC5cbiAgICogQHBhcmFtIGFsYnVtIHtBbGJ1bUl0ZW0gfCBzdHJpbmd9IE5hbWUgb2YgYW4gYWxidW0gb3IgQWxidW1JdGVtIG9iamVjdC5cbiAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gUmVzb2x2ZXMgd2hlbiBzYXZlIG9wZXJhdGlvbiBjb21wbGV0ZXMuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAyLFxuICAgIGVycm9ySW5kZXg6IDNcbiAgfSlcbiAgc2F2ZVZpZGVvKHVybDogc3RyaW5nLCBhbGJ1bTogQWxidW1JdGVtIHwgc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpYnJhcnlJdGVtIHtcbiAgLyoqXG4gICAqIExvY2FsIGlkIG9mIHRoZSBwaG90b1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgcGhvdG9VUkw6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgdGh1bWJuYWlsVVJMOiBzdHJpbmc7XG4gIGZpbGVOYW1lOiBzdHJpbmc7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBjcmVhdGlvbkRhdGU6IERhdGU7XG4gIGxhdGl0dWRlPzogbnVtYmVyO1xuICBsb25naXR1ZGU/OiBudW1iZXI7XG4gIGFsYnVtSWRzPzogc3RyaW5nW107XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFsYnVtSXRlbSB7XG4gIC8qKlxuICAgKiBMb2NhbCBpZCBvZiB0aGUgYWxidW1cbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldExpYnJhcnlPcHRpb25zIHtcbiAgdGh1bWJuYWlsV2lkdGg/OiBudW1iZXI7XG4gIHRodW1ibmFpbEhlaWdodD86IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgaXRlbXNJbkNodW5rPzogbnVtYmVyO1xuICBjaHVua1RpbWVTZWM/OiBudW1iZXI7XG4gIHVzZU9yaWdpbmFsRmlsZU5hbWVzPzogYm9vbGVhbjtcbiAgaW5jbHVkZUFsYnVtRGF0YT86IGJvb2xlYW47XG4gIGluY2x1ZGVWaWRlb3M/OiBib29sZWFuO1xuICBtYXhJdGVtcz86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zIHtcbiAgcmVhZD86IGJvb2xlYW47XG4gIHdyaXRlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0VGh1bWJuYWlsT3B0aW9ucyB7XG4gIHRodW1ibmFpbFdpZHRoPzogbnVtYmVyO1xuICB0aHVtYm5haWxIZWlnaHQ/OiBudW1iZXI7XG4gIHF1YWxpdHk/OiBudW1iZXI7XG59XG4iXX0=