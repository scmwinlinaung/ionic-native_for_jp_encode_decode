var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova, checkAvailability } from '@ionic-native/core';
import { Observable } from 'rxjs';
var IBeacon = /** @class */ (function (_super) {
    __extends(IBeacon, _super);
    function IBeacon() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeacon.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didChangeAuthorizationStatus = cb;
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didDetermineStateForRegion = cb;
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didEnterRegion = cb;
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didExitRegion = cb;
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didRangeBeaconsInRegion = cb;
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.didStartMonitoringForRegion = cb;
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.monitoringDidFailForRegionWithError = cb;
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.peripheralManagerDidStartAdvertising = cb;
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return delegate.peripheralManagerDidUpdateState = cb;
                    });
                };
                cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeacon.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeacon.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeacon.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeacon.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeacon.pluginName = "IBeacon";
    IBeacon.plugin = "cordova-plugin-ibeacon";
    IBeacon.pluginRef = "cordova.plugins.locationManager";
    IBeacon.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeacon.platforms = ["Android", "iOS"];
    IBeacon = __decorate([
        Injectable()
    ], IBeacon);
    return IBeacon;
}(IonicNativePlugin));
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2liZWFjb24vbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8saURBQW9ELE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7SUFnU0wsMkJBQWlCOzs7O0lBUTVDLDBCQUFROzs7bURBQW9CO2dCQUMxQixJQUFNLFFBQVEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUVoRSxRQUFRLENBQUMsNEJBQTRCLEdBQUcsVUFBQyxZQUFrQztvQkFDekUsT0FBTyxJQUFJLFVBQVUsQ0FDbkIsVUFBQyxRQUFhO3dCQUNaLElBQU0sRUFBRSxHQUFHLFVBQUMsSUFBeUIsSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQW5CLENBQW1CLENBQUM7d0JBQzlELE9BQU8sUUFBUSxDQUFDLDRCQUE0QixHQUFHLEVBQUUsQ0FBQztvQkFDcEQsQ0FBQyxDQUNGLENBQUM7Z0JBQ0osQ0FBQyxDQUFDO2dCQUVGLFFBQVEsQ0FBQywwQkFBMEIsR0FBRyxVQUFDLFlBQWtDO29CQUN2RSxPQUFPLElBQUksVUFBVSxDQUNuQixVQUFDLFFBQWE7d0JBQ1osSUFBTSxFQUFFLEdBQUcsVUFBQyxJQUF5QixJQUFLLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQzt3QkFDOUQsT0FBTyxRQUFRLENBQUMsMEJBQTBCLEdBQUcsRUFBRSxDQUFDO29CQUNsRCxDQUFDLENBQ0YsQ0FBQztnQkFDSixDQUFDLENBQUM7Z0JBRUYsUUFBUSxD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QUNqQjs7O0lBZUQsOEJBQVksYUFDVixTQUFpQixFQUNqQixJQUFZLEVBQ1osS0FBYyxFQUNkLEtBQWMsRUFDZCx5QkFBbUM7OzttREFDckI7Z0JBQ2QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FDckQsU0FBUyxFQUNULElBQUksRUFDSixLQUFLLEVBQ0wsS0FBSyxFQUNMLHlCQUF5QixDQUMxQixDQUFDO2FBQ0g7OztJQU1ELDZCQUFXO0lBVVgsNkJBQVcsYUFBQyxRQUF5QjtJQXlCckMsb0NBQWtCO0lBVWxCLG9DQUFrQjtJQVdsQixpQ0FBZTtJQVdmLGtDQUFnQjtJQXNCaEIsMENBQXdCLGFBQUMsTUFBYztJQWlCdkMseUNBQXVCLGFBQUMsTUFBYztJQWdCdEMsdUNBQXFCLGFBQUMsTUFBYztJQW1CcEMsNkNBQTJCLGFBQUMsTUFBYztJQWlCMUMsNENBQTBCLGFBQUMsTUFBYztJQVN6Qyx3Q0FBc0I7SUFjdEIsK0NBQTZCO0lBVzdCLDRDQUEwQjtJQVUxQixxQ0FBbUI7SUFVbkIsa0NBQWdCO0lBVWhCLG9DQUFrQjtJQWNsQiwrQ0FBNkIsYUFBQyxNQUFjO0lBc0I1QyxrQ0FBZ0IsYUFBQyxNQUFjLEVBQUUsYUFBc0I7SUFhdkQsaUNBQWUsYUFBQyxNQUFjO0lBVTlCLHdDQUFzQjtJQVV0QiwrQkFBYTtJQVliLGtDQUFnQjtJQWFoQiwwQ0FBd0I7SUFZeEIsMkNBQXlCO0lBWXpCLGlDQUFlO0lBZWYsbUNBQWlCLGFBQUMsT0FBZTs7Ozs7O0lBcGV0QixPQUFPO1FBRG5CLFVBQVUsRUFBRTtPQUNBLE9BQU87a0JBbFNwQjtFQWtTNkIsaUJBQWlCO1NBQWpDLE9BQU8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhQ2hlY2ssIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5kZWNsYXJlIGNvbnN0IGNvcmRvdmE6IGFueTtcblxuZXhwb3J0IGludGVyZmFjZSBCZWFjb24ge1xuICAvKipcbiAgICogVGhlIHBoeXNpY2FsIGRldmljZSdzIGlkZW50aWZpZXIuXG4gICAqL1xuICB1dWlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBiZWFjb24ncyBtYWpvciBpZGVudGlmaWVyIG51bWJlci5cbiAgICovXG4gIG1ham9yOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBiZWFjb24ncyBtaW5vciBpZGVudGlmaWVyIG51bWJlci5cbiAgICovXG4gIG1pbm9yOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBwcm94aW1pdHkgb2YgdGhlIGJlYWNvbiByZWxhdGl2ZSB0byB0aGUgcGhvbmUuXG4gICAqXG4gICAqIFBvc3NpYmxlIG9wdGlvbnMgYXJlOlxuICAgKiBQcm94aW1pdHlJbW1lZGlhdGVcbiAgICogUHJveGltaXR5TmVhclxuICAgKiBQcm94aW1pdHlGYXJcbiAgICogUHJveGltaXR5VW5rbm93blxuICAgKi9cbiAgcHJveGltaXR5OlxuICAgIHwgJ1Byb3hpbWl0eUltbWVkaWF0ZSdcbiAgICB8ICdQcm94aW1pdHlOZWFyJ1xuICAgIHwgJ1Byb3hpbWl0eUZhcidcbiAgICB8ICdQcm94aW1pdHlVbmtub3duJztcblxuICAvKipcbiAgICogVHJhbnNtaXNzaW9uIFBvd2VyIG9mIHRoZSBiZWFjb24uIEEgY29uc3RhbnQgZW1pdHRlZCBieSB0aGUgYmVhY29uIHdoaWNoIGluZGljYXRlcyB3aGF0J3MgdGhlIGV4cGVjdGVkIFJTU0kgYXQgYSBkaXN0YW5jZSBvZiAxIG1ldGVyIHRvIHRoZSBiZWFjb24uXG4gICAqL1xuICB0eDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBSZWNlaXZlZCBTaWduYWwgU3RyZW5ndGggSW5kaWNhdG9yLiBUaGUgc3RyZW5ndGggb2YgdGhlIGJlYWNvbidzIHNpZ25hbCB3aGVuIGl0IHJlYWNoZXMgdGhlIGRldmljZS5cbiAgICogIFJTU0kgcmFuZ2VzIGZyb20gYXByb3ggLTI2IChhIGZldyBpbmNoZXMpIHRvIC0xMDAgKDQwLTUwIG0gZGlzdGFuY2UpLlxuICAgKi9cbiAgcnNzaTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgYWNjdXJhY3kgb2YgdGhlIHJhbmdpbmcuXG4gICAqL1xuICBhY2N1cmFjeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJlYWNvblJlZ2lvbiB7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHJlZ2lvbi5cbiAgICovXG4gIGlkZW50aWZpZXI6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRoZSBiZWFjb24gaWRlbnRpZmllciB0aGUgZGV2aWNlIHdpbGwgXCJ3YXRjaFwiIGZvci4gTWFueSBiZWFjb25zIGNhbiBzaGFyZSB0aGUgc2FtZSB1dWlkLlxuICAgKi9cbiAgdXVpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYmVhY29uJ3MgbWFqb3IgaWRlbnRpZmllciBudW1iZXIuIE9wdGlvbmFsLCBvZiBub3RoaW5nIGlzIHN1cHBsaWVkXG4gICAqIHRoZSBwbHVnaW4gd2lsbCB0cmVhdCBpdCBhcyBhIHdpbGRjYXJkLlxuICAgKi9cbiAgbWFqb3I/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBiZWFjb24ncyBtaW5vciBpZGVudGlmaWVyIG51bWJlci4gT3B0aW9uYWwsIG9mIG5vdGhpbmcgaXMgc3VwcGxpZWRcbiAgICogdGhlIHBsdWdpbiB3aWxsIHRyZWF0IGl0IGFzIGEgd2lsZGNhcmQuXG4gICAqL1xuICBtaW5vcj86IG51bWJlcjtcblxuICAvKipcbiAgICogSWYgc2V0IHRvIHRydWUgdGhlIGRldmljZSB3aWxsIHNjYW4gZm9yIGJlYWNvbnMgYW5kIGRldGVybWluZSByZWdpb24gc3RhdGUgYW55dGltZVxuICAgKiB0aGUgZGV2aWNlJ3Mgc2NyZWVuIGlzIHR1cm5lZCBvbiBvciBvZmYuIFVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgKi9cbiAgbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2lyY3VsYXJSZWdpb24ge1xuICAvKipcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyByZWdpb24uXG4gICAqL1xuICBpZGVudGlmaWVyOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIHJlZ2lvbi5cbiAgICovXG4gIGxhdGl0dWRlOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBsb25naXR1ZGUgb2YgdGhpcyByZWdpb24uXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgZ2VvZmVuY2UgZm9yIHRoaXMgcmVnaW9uLlxuICAgKi9cbiAgcmFkaXVzOiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFJlZ2lvbiA9IEJlYWNvblJlZ2lvbiB8IENpcmN1bGFyUmVnaW9uO1xuXG5leHBvcnQgaW50ZXJmYWNlIElCZWFjb25QbHVnaW5SZXN1bHQge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGRlbGVnYXRlIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZWQgdGhlIFBsdWdpblJlc3VsdCBvYmplY3QuXG4gICAqL1xuICBldmVudFR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXG4gICAqL1xuICByZWdpb246IFJlZ2lvbjtcblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgYmVhY29uIG9iamVjdHNcbiAgICovXG4gIGJlYWNvbnM6IEJlYWNvbltdO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9uIGZvciBpT1MuXG4gICAqL1xuICBhdXRob3JpemF0aW9uU3RhdHVzOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgcGhvbmUgaW4gcmVsYXRpb24gdG8gdGhlIHJlZ2lvbi4gSW5zaWRlL291dHNpZGUgZm9yIGV4YW1wbGUuXG4gICAqL1xuICBzdGF0ZTogJ0NMUmVnaW9uU3RhdGVJbnNpZGUnIHwgJ0NMUmVnaW9uU3RhdGVPdXRzaWRlJztcblxuICAvKipcbiAgICogRXJyb3IgbWVzc2FnZSwgdXNlZCBvbmx5IHdpdGggbW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgZGVsZWdhdGUuXG4gICAqL1xuICBlcnJvcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCZWFjb25EZWxlZ2F0ZSB7XG4gIC8qKlxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9uIGF1dGhvcml6YXRpb24gc3RhdHVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxzdHJpbmc+fSBSZXR1cm5zIGEgc3RyaW5nLlxuICAgKi9cbiAgZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cygpOiBPYnNlcnZhYmxlPHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqIHdoZW4gdGhlIG5hdGl2ZSBsYXllciBpcyBhYmxlIHRvIGRldGVybWluZSB0aGUgZGV2aWNlJ3Mgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgZXZlbnQgaXMgY2FsbGVkIHdoZW4gdGhlIHBob25lIGJlZ2lucyBzdGFydHMgbW9uaXRvcmluZyxcbiAgICogd2hlbiByZXF1ZXN0U3RhdGVGb3JSZWdpb24gaXMgY2FsbGVkLCBldGMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cbiAgICovXG4gIGRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqIHdoZW4gdGhlIHBob25lIGVudGVycyBhIHJlZ2lvbiB0aGF0IGl0IHdhcyBhc2tlZCB0byBtb25pdG9yLlxuICAgKlxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxuICAgKiAgd2lsbCBiZSBjYWxsZWQgZXZlbiB3aGVuIHRoZSBhcHAgaXMgbm90IHJ1bm5pbmcgb24gaU9TLlxuICAgKiBUaGUgYXBwIHdpbGwgcnVuIHNpbGVudGx5IGluIHRoZSBiYWNrZ3JvdW5kIGZvciBhIHNtYWxsIGFtb3VudCBvZiB0aW1lLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBkaWRFbnRlclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgKiB3aGVuIHRoZSBwaG9uZSBleGl0cyBhIHJlZ2lvbiB0aGF0IGl0IHdhcyBhc2tlZCB0byBtb25pdG9yLlxuICAgKlxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxuICAgKiAgd2lsbCBiZSBjYWxsZWQgZXZlbiB3aGVuIHRoZSBhcHAgaXMgbm90IHJ1bm5pbmcgb24gaU9TLlxuICAgKiBUaGUgYXBwIHdpbGwgcnVuIHNpbGVudGx5IGluIHRoZSBiYWNrZ3JvdW5kIGZvciBhIHNtYWxsIGFtb3VudCBvZiB0aW1lLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBkaWRFeGl0UmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqICBlYWNoIHRpbWUgdGhhdCB0aGUgZGV2aWNlIHJhbmdlcyBiZWFjb25zLiBNb2Rlcm4gQW5kcm9pZCBhbmQgaU9TIGRldmljZXMgcmFuZ2VcbiAgICogYXByb3hpbWF0ZWx5IG9uY2UgcGVyIHNlY29uZC5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogIHdoZW4gdGhlIGRldmljZSBiZWdpbnMgbW9uaXRvcmluZyBhIHJlZ2lvbi5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgZmFpbHMgdG8gbW9uaXRvciBhIHJlZ2lvbi5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgbW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IoKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICogIHdoZW4gdGhlIGRldmljZSBiZWdpbnMgYWR2ZXJ0aXNpbmcgYXMgYW4gaUJlYWNvbi5cbiAgICpcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxuICAgKi9cbiAgcGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAqIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBwZXJpcGhlcmFsIG1hbmFnZXIncyBzdGF0ZSB1cGRhdGVzLlxuICAgKlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXG4gICAqL1xuICBwZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XG59XG5cbi8qKlxuICogQG5hbWUgSUJlYWNvblxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHBsdWdpbiBwcm92aWRlcyBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBpQmVhY29ucy5cbiAqXG4gKiAgVGhlIHBsdWdpbidzIEFQSSBjbG9zZWx5IG1pbWljcyB0aGUgb25lIGV4cG9zZWQgdGhyb3VnaCB0aGUgW0NMTG9jYXRpb25NYW5hZ2VyXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9pb3MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwpIGludHJvZHVjZWQgaW4gaU9TIDcuXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgSUJlYWNvbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvaWJlYWNvbi9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgaWJlYWNvbjogSUJlYWNvbikgeyB9XG4gKlxuICogLi4uXG4gKlxuICpcbiAqIC8vIFJlcXVlc3QgcGVybWlzc2lvbiB0byB1c2UgbG9jYXRpb24gb24gaU9TXG4gKiB0aGlzLmliZWFjb24ucmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb24oKTtcbiAqIC8vIGNyZWF0ZSBhIG5ldyBkZWxlZ2F0ZSBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgbmF0aXZlIGxheWVyXG4gKiBsZXQgZGVsZWdhdGUgPSB0aGlzLmliZWFjb24uRGVsZWdhdGUoKTtcbiAqXG4gKiAvLyBTdWJzY3JpYmUgdG8gc29tZSBvZiB0aGUgZGVsZWdhdGUncyBldmVudCBoYW5kbGVyc1xuICogZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24oKVxuICogICAuc3Vic2NyaWJlKFxuICogICAgIGRhdGEgPT4gY29uc29sZS5sb2coJ2RpZFJhbmdlQmVhY29uc0luUmVnaW9uOiAnLCBkYXRhKSxcbiAqICAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKClcbiAqICAgKTtcbiAqIGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbigpXG4gKiAgIC5zdWJzY3JpYmUoXG4gKiAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uOiAnLCBkYXRhKSxcbiAqICAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKClcbiAqICAgKTtcbiAqIGRlbGVnYXRlLmRpZEVudGVyUmVnaW9uKClcbiAqICAgLnN1YnNjcmliZShcbiAqICAgICBkYXRhID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdkaWRFbnRlclJlZ2lvbjogJywgZGF0YSk7XG4gKiAgICAgfVxuICogICApO1xuICpcbiAqIGxldCBiZWFjb25SZWdpb24gPSB0aGlzLmliZWFjb24uQmVhY29uUmVnaW9uKCdkZXNrQmVhY29uJywnRjc4MjZEQTYtQVNERi1BU0RGLTgwMjQtQkM1QjcxRTA4OTNFJyk7XG4gKlxuICogdGhpcy5pYmVhY29uLnN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbihiZWFjb25SZWdpb24pXG4gKiAgIC50aGVuKFxuICogICAgICgpID0+IGNvbnNvbGUubG9nKCdOYXRpdmUgbGF5ZXIgcmVjZWl2ZWQgdGhlIHJlcXVlc3QgdG8gbW9uaXRvcmluZycpLFxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ05hdGl2ZSBsYXllciBmYWlsZWQgdG8gYmVnaW4gbW9uaXRvcmluZzogJywgZXJyb3IpXG4gKiAgICk7XG4gKiBgYGBcbiAqIEBpbnRlcmZhY2VzXG4gKiBCZWFjb25cbiAqIEJlYWNvblJlZ2lvblxuICogQ2lyY3VsYXJSZWdpb25cbiAqIElCZWFjb25QbHVnaW5SZXN1bHRcbiAqIElCZWFjb25EZWxlZ2F0ZVxuICpcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdJQmVhY29uJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4taWJlYWNvbicsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXInLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3BldGVybWV0ei9jb3Jkb3ZhLXBsdWdpbi1pYmVhY29uJyxcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ11cbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSUJlYWNvbiBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBkZWxlZ2F0ZXMgYmV0d2VlbiB0aGUge0BsaW5rIExvY2F0aW9uTWFuYWdlcn0gYW5kXG4gICAqIHRoZSBjb2RlIHRoYXQgY29uc3VtZXMgdGhlIG1lc3NhZ2VzIGdlbmVyYXRlZCBvbiBpbiB0aGUgbmF0aXZlIGxheWVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB7SUJlYWNvbkRlbGVnYXRlfSBBbiBpbnN0YW5jZSBvZiB0aGUgdHlwZSB7QHR5cGUgRGVsZWdhdGV9LlxuICAgKi9cbiAgQENvcmRvdmFDaGVjayh7IHN5bmM6IHRydWUgfSlcbiAgRGVsZWdhdGUoKTogSUJlYWNvbkRlbGVnYXRlIHtcbiAgICBjb25zdCBkZWxlZ2F0ZSA9IG5ldyBjb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyLkRlbGVnYXRlKCk7XG5cbiAgICBkZWxlZ2F0ZS5kaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PihcbiAgICAgICAgKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5kaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLmRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PihcbiAgICAgICAgKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5kaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiA9IGNiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5kaWRFbnRlclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkRXhpdFJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkRXhpdFJlZ2lvbiA9IGNiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG5cbiAgICBkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24gPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PihcbiAgICAgICAgKG9ic2VydmVyOiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xuICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5kaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24gPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgZGVsZWdhdGUubW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLm1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZyA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oXG4gICAgICAgIChvYnNlcnZlcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICByZXR1cm4gZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nID0gY2I7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KFxuICAgICAgICAob2JzZXJ2ZXI6IGFueSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUgPSBjYjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5zZXREZWxlZ2F0ZShkZWxlZ2F0ZSk7XG4gICAgcmV0dXJuIGRlbGVnYXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQmVhY29uUmVnaW9uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZGVudGlmaWVyIEBzZWUge0NMUmVnaW9ufVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXVpZCBUaGUgcHJveGltaXR5IElEIG9mIHRoZSBiZWFjb24gYmVpbmcgdGFyZ2V0ZWQuXG4gICAqIFRoaXMgdmFsdWUgbXVzdCBub3QgYmUgYmxhbmsgbm9yIGludmFsaWQgYXMgYSBVVUlELlxuICAgKiBAcGFyYW0ge051bWJlcn0gbWFqb3IgVGhlIG1ham9yIHZhbHVlIHRoYXQgeW91IHVzZSB0byBpZGVudGlmeSBvbmUgb3IgbW9yZSBiZWFjb25zLlxuICAgKiBAcGFyYW0ge051bWJlcn0gbWlub3IgVGhlIG1pbm9yIHZhbHVlIHRoYXQgeW91IHVzZSB0byBpZGVudGlmeSBhIHNwZWNpZmljIGJlYWNvbi5cbiAgICogQHBhcmFtIHtCT09MfSBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCZWFjb25SZWdpb259IFJldHVybnMgdGhlIEJlYWNvblJlZ2lvbiB0aGF0IHdhcyBjcmVhdGVkXG4gICAqL1xuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxuICBCZWFjb25SZWdpb24oXG4gICAgaWRlbnRpZmVyOiBzdHJpbmcsXG4gICAgdXVpZDogc3RyaW5nLFxuICAgIG1ham9yPzogbnVtYmVyLFxuICAgIG1pbm9yPzogbnVtYmVyLFxuICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuXG4gICk6IEJlYWNvblJlZ2lvbiB7XG4gICAgcmV0dXJuIG5ldyBjb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyLkJlYWNvblJlZ2lvbihcbiAgICAgIGlkZW50aWZlcixcbiAgICAgIHV1aWQsXG4gICAgICBtYWpvcixcbiAgICAgIG1pbm9yLFxuICAgICAgbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gUmV0dXJucyB0aGUgSUJlYWNvbkRlbGVnYXRlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldERlbGVnYXRlKCk6IElCZWFjb25EZWxlZ2F0ZSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7SUJlYWNvbkRlbGVnYXRlfSBkZWxlZ2F0ZSBBbiBpbnN0YW5jZSBvZiBhIGRlbGVnYXRlIHRvIHJlZ2lzdGVyIHdpdGggdGhlIG5hdGl2ZSBsYXllci5cbiAgICpcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gUmV0dXJucyB0aGUgSUJlYWNvbkRlbGVnYXRlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHNldERlbGVnYXRlKGRlbGVnYXRlOiBJQmVhY29uRGVsZWdhdGUpOiBJQmVhY29uRGVsZWdhdGUge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaWduYWxzIHRoZSBuYXRpdmUgbGF5ZXIgdGhhdCB0aGUgY2xpZW50IHNpZGUgaXMgcmVhZHkgdG8gY29uc3VtZSBtZXNzYWdlcy5cbiAgICogUmVhZGluZXNzIGhlcmUgbWVhbnMgdGhhdCBpdCBoYXMgYSB7SUJlYWNvbkRlbGVnYXRlfSBzZXQgYnkgdGhlIGNvbnN1bWVyIGphdmFzY3JpcHRcbiAgICogY29kZS5cbiAgICpcbiAgICogVGhlIHtMb2NhdGlvbk1hbmFnZXIuc2V0RGVsZWdhdGUoKX0gd2lsbCBpbXBsaWNpdGx5IGNhbGwgdGhpcyBtZXRob2QgYXMgd2VsbCxcbiAgICogdGhlcmVmb3JlIHRoZSBvbmx5IGNhc2Ugd2hlbiB5b3UgaGF2ZSB0byBjYWxsIHRoaXMgbWFudWFsbHkgaXMgaWYgeW91IGRvbid0XG4gICAqIHdpc2ggdG8gc3BlY2lmeSBhIHtJQmVhY29uRGVsZWdhdGV9IG9mIHlvdXJzLlxuICAgKlxuICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIHNpZ25hbGluZyBtZWNoYW5pc20gaXMgdG8gbWFrZSB0aGUgZXZlbnRzIHdvcmsgd2hlbiB0aGVcbiAgICogYXBwIGlzIGJlaW5nIHdva2VuIHVwIGJ5IHRoZSBPcGVyYXRpbmcgU3lzdGVtIHRvIGdpdmUgaXQgYSBjaGFuY2UgdG8gaGFuZGxlXG4gICAqIHJlZ2lvbiBtb25pdG9yaW5nIGV2ZW50cyBmb3IgZXhhbXBsZS5cbiAgICpcbiAgICogSWYgeW91IGRvbid0IHNldCBhIHtJQmVhY29uRGVsZWdhdGV9IGFuZCBkb24ndCBjYWxsIHRoaXMgbWV0aG9kIG1hbnVhbGx5LCBhbiBlcnJvclxuICAgKiBtZXNzYWdlIGdldCBlbWl0dGVkIGluIHRoZSBuYXRpdmUgcnVudGltZSBhbmQgdGhlIERPTSBhcyB3ZWxsIGFmdGVyIGEgY2VydGFpblxuICAgKiBwZXJpb2Qgb2YgdGltZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIHJlcXVlc3QgYW5kIHN0YXJ0ZWQgdG8gc2VuZCBldmVudHMuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBvbkRvbURlbGVnYXRlUmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYmx1ZXRvb3RoIGlzIHN3aXRjaGVkIG9uLCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGJsdWV0b290aCBpcyBhY3RpdmUuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc0JsdWV0b290aEVuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgQmx1ZXRvb3RoIHVzaW5nIHRoZSBuYXRpdmUgTGF5ZXIuIChBTkRST0lEIE9OTFkpXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEJsdWV0b290aFxuICAgKiBjb3VsZCBiZSBlbmFibGVkLiBJZiBub3QsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGVuYWJsZUJsdWV0b290aCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgQmx1ZXRvb3RoIHVzaW5nIHRoZSBuYXRpdmUgTGF5ZXIuIChBTkRST0lEIE9OTFkpXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEJsdWV0b290aFxuICAgKiBjb3VsZCBiZSBlbmFibGVkLiBJZiBub3QsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGRpc2FibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IG1vbml0b3JpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uXG4gICAqXG4gICAqIElmIGEgcmVnaW9uIG9mIHRoZSBzYW1lIHR5cGUgd2l0aCB0aGUgc2FtZSBpZGVudGlmaWVyIGlzIGFscmVhZHkgYmVpbmdcbiAgICogbW9uaXRvcmVkIGZvciB0aGlzIGFwcGxpY2F0aW9uLFxuICAgKiBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBtb25pdG9yaW5nLiBGb3IgY2lyY3VsYXIgcmVnaW9ucywgdGhlIHJlZ2lvblxuICAgKiBtb25pdG9yaW5nIHNlcnZpY2Ugd2lsbCBwcmlvcml0aXplXG4gICAqIHJlZ2lvbnMgYnkgdGhlaXIgc2l6ZSwgZmF2b3Jpbmcgc21hbGxlciByZWdpb25zIG92ZXIgbGFyZ2VyIHJlZ2lvbnMuXG4gICAqXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gbW9uaXRvcmVkUmVnaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIG1vbml0b3JpbmcgcmVxdWVzdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8c3RyaW5nPiB7IHJldHVybjsgfVxuXG4gIC8qKlxuICAgKiBTdG9wIG1vbml0b3JpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICBJdCBpcyB2YWxpZCB0byBjYWxsXG4gICAqIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uOiBmb3IgYSByZWdpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBmb3IgbW9uaXRvcmluZ1xuICAgKiB3aXRoIGEgZGlmZmVyZW50IGxvY2F0aW9uIG1hbmFnZXIgb2JqZWN0LCBkdXJpbmcgdGhpcyBvciBwcmV2aW91c1xuICAgKiBsYXVuY2hlcyBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4geyByZXR1cm47IH1cblxuICAvKipcbiAgICogUmVxdWVzdCBzdGF0ZSB0aGUgZm9yIHNwZWNpZmllZCByZWdpb24uIFdoZW4gcmVzdWx0IGlzIHJlYWR5XG4gICAqIGRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uIGlzIHRyaWdnZXJlZC4gVGhpcyBjYW4gYmUgYW55IHJlZ2lvbixcbiAgICogYWxzbyB0aG9zZSB3aGljaCBpcyBub3QgY3VycmVudGx5IG1vbml0b3JlZC5cbiAgICpcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBtb25pdG9yZWRSZWdpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIHJlcXVlc3QgdG8gc3RvcCBtb25pdG9yaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgcmVxdWVzdFN0YXRlRm9yUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHJhbmdpbmcgdGhlIHNwZWNpZmllZCBiZWFjb24gcmVnaW9uLlxuICAgKlxuICAgKiBJZiBhIHJlZ2lvbiBvZiB0aGUgc2FtZSB0eXBlIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbiwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gbW9uaXRvcmluZy5cbiAgICpcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiByYW5nZWRSZWdpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtCZWFjb25SZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIG1vbml0b3JpbmcgcmVxdWVzdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIHN0YXJ0UmFuZ2luZ0JlYWNvbnNJblJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4geyByZXR1cm47IH1cblxuICAvKipcbiAgICogU3RvcCByYW5naW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLiAgSXQgaXMgdmFsaWQgdG8gY2FsbFxuICAgKiBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbjogZm9yIGEgcmVnaW9uIHRoYXQgd2FzIHJlZ2lzdGVyZWQgZm9yIHJhbmdpbmdcbiAgICogd2l0aCBhIGRpZmZlcmVudCBsb2NhdGlvbiBtYW5hZ2VyIG9iamVjdCwgZHVyaW5nIHRoaXMgb3IgcHJldmlvdXNcbiAgICogbGF1bmNoZXMgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiByYW5nZWRSZWdpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtCZWFjb25SZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIHJlcXVlc3QgdG8gc3RvcCBtb25pdG9yaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RvcFJhbmdpbmdCZWFjb25zSW5SZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHsgcmV0dXJuOyB9XG5cbiAgLyoqXG4gICAqIFF1ZXJpZXMgdGhlIG5hdGl2ZSBsYXllciB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgYXV0aG9yaXphdGlvbiBpbiBlZmZlY3QuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIHRoZVxuICAgKiByZXF1ZXN0ZWQgYXV0aG9yaXphdGlvbiBzdGF0dXMuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBnZXRBdXRob3JpemF0aW9uU3RhdHVzKCk6IFByb21pc2U8SUJlYWNvblBsdWdpblJlc3VsdD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgaU9TIDggYW5kIGFib3ZlIG9ubHkuIFRoZSBwZXJtaXNzaW9uIG1vZGVsIGhhcyBjaGFuZ2VkIGJ5IEFwcGxlIGluIGlPUyA4LCBtYWtpbmcgaXQgbmVjZXNzYXJ5IGZvciBhcHBzIHRvXG4gICAqIGV4cGxpY2l0bHkgcmVxdWVzdCBwZXJtaXNzaW9ucyB2aWEgbWV0aG9kcyBsaWtlIHRoZXNlOlxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvcHJlcmVsZWFzZS9pT1MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvb2NjL2luc3RtL0NMTG9jYXRpb25NYW5hZ2VyL3JlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uXCI+cmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb248L2E+XG4gICAqIDxhIGhyZWY9XCJodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9wcmVyZWxlYXNlL2lPUy9kb2N1bWVudGF0aW9uL0NvcmVMb2NhdGlvbi9SZWZlcmVuY2UvQ0xMb2NhdGlvbk1hbmFnZXJfQ2xhc3MvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9vY2MvaW5zdG0vQ0xMb2NhdGlvbk1hbmFnZXIvcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb25cIj5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbjwvYT5cbiAgICpcbiAgICogSWYgeW91IGFyZSB1c2luZyB0aGlzIHBsdWdpbiBvbiBBbmRyb2lkIGRldmljZXMgb25seSwgeW91IHdpbGwgbmV2ZXIgaGF2ZSB0byB1c2UgdGhpcywgbm9yIHtAY29kZSByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbn1cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgcmVxdWVzdCBkaWFsb2cgaXMgc2hvd24uXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIHtAY29kZSByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbn0gZm9yIGZ1cnRoZXIgZGV0YWlscy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIG5hdGl2ZSBsYXllclxuICAgKiBzaG93cyB0aGUgcmVxdWVzdCBkaWFsb2cuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8UmVnaW9uW10+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGFuIHtBcnJheX1cbiAgICogb2Yge1JlZ2lvbn0gaW5zdGFuY2VzIHRoYXQgYXJlIGJlaW5nIG1vbml0b3JlZCBieSB0aGUgbmF0aXZlIGxheWVyLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZ2V0TW9uaXRvcmVkUmVnaW9ucygpOiBQcm9taXNlPFJlZ2lvbltdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lvbltdPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhbiB7QXJyYXl9XG4gICAqIG9mIHtSZWdpb259IGluc3RhbmNlcyB0aGF0IGFyZSBiZWluZyByYW5nZWQgYnkgdGhlIG5hdGl2ZSBsYXllci5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGdldFJhbmdlZFJlZ2lvbnMoKTogUHJvbWlzZTxSZWdpb25bXT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHJhbmdpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciByYW5naW5nIGlzIGF2YWlsYWJsZSBvciBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc1JhbmdpbmdBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgcmVnaW9uIHR5cGUgaXMgc3VwcG9ydGVkIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBjaGVja2VkXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJlZ2lvbiB0eXBlIGlzIHN1cHBvcnRlZCBvciBub3QuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBpc01vbml0b3JpbmdBdmFpbGFibGVGb3JDbGFzcyhyZWdpb246IFJlZ2lvbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBhZHZlcnRpc2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi5cbiAgICpcbiAgICogSWYgYSByZWdpb24gYSBkaWZmZXJlbnQgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nIGFkdmVydGlzZWQgZm9yXG4gICAqIHRoaXMgYXBwbGljYXRpb24sIGl0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbmV3IGlkZW50aWZpZXIuXG4gICAqXG4gICAqIFRoaXMgY2FsbCB3aWxsIGFjY2VwdCBhIHZhbGlkIGJlYWNvbiBldmVuIHdoZW4gbm8gQmx1ZVRvb3RoIGlzIGF2YWlsYWJsZSxcbiAgICogYW5kIHdpbGwgc3RhcnQgd2hlbiBCbHVlVG9vdGggaXMgcG93ZXJlZCBvbi4gU2VlIHtJQmVhY29uRGVsZWdhdGUufVxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgYWR2ZXJ0aXNlZFxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cbiAgICogQHBhcmFtIHtJbnRlZ2VyfSBtZWFzdXJlZFBvd2VyOiBPcHRpb25hbCBwYXJhbWV0ZXIsIGlmIGxlZnQgZW1wdHksIHRoZSBkZXZpY2Ugd2lsbFxuICAgKiB1c2UgaXQncyBvd24gZGVmYXVsdCB2YWx1ZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBhZHZlcnRpc2luZyByZXF1ZXN0LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RhcnRBZHZlcnRpc2luZyhyZWdpb246IFJlZ2lvbiwgbWVhc3VyZWRQb3dlcj86IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGFkdmVydGlzaW5nIGFzIGEgYmVhY29uLlxuICAgKlxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIGlzQWR2ZXJ0aXNpbmcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIGFkdmVydGlzaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgc3RvcEFkdmVydGlzaW5nKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYWR2ZXJ0aXNpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XG4gICAqIGluZGljYXRpbmcgd2hldGhlciBhZHZlcnRpc2luZyBpcyBhdmFpbGFibGUgb3Igbm90LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgaXNBZHZlcnRpc2luZ0F2YWlsYWJsZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhZHZlcnRpc2luZyBpcyBjdXJyZW50bHkgYWN0aXZlLCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGFkdmVydGlzaW5nIGlzIGFjdGl2ZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGlzQWR2ZXJ0aXNpbmcoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIGRlYnVnIGxvZ2dpbmcgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XG4gICAqIHRvIHByZXZlbnQgdGhpcyBwbHVnaW4gZnJvbSB3cml0aW5nIHRvIHRoZSBkZXZpY2UgbG9ncy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXG4gICAqIG5hdGl2ZSBsYXllciBoYXMgc2V0IHRoZSBsb2dnaW5nIGxldmVsIGFjY29yZGluZ2x5LlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgZGlzYWJsZURlYnVnTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgcG9zdGluZyBvZiBkZWJ1ZyBub3RpZmljYXRpb25zIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxuICAgKiB0byBhbGxvdyB0aGUgcGx1Z2luIHRoZSBwb3N0aW5nIGxvY2FsIG5vdGlmaWNhdGlvbnMuXG4gICAqIFRoaXMgY2FuIGJlIHZlcnkgaGVscGZ1bCB3aGVuIGRlYnVnZ2luZyBob3cgdG8gYXBwcyBiZWhhdmUgd2hlbiBsYXVuY2hlZCBpbnRvIHRoZSBiYWNrZ3JvdW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZW5hYmxlZC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXG4gIGVuYWJsZURlYnVnTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIHBvc3Rpbmcgb2YgZGVidWcgbm90aWZpY2F0aW9ucyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcbiAgICogdG8gcHJldmVudCB0aGUgcGx1Z2luIGZyb20gcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZGlzYWJsZWQuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBkaXNhYmxlRGVidWdOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGRlYnVnIGxvZ2dpbmcgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XG4gICAqIGEgZGVidWcgdGhlIGlubmVyIHdvcmtpbmdzIG9mIHRoaXMgcGx1Z2luLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgYWNjb3JkaW5nbHkuXG4gICAqL1xuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxuICBlbmFibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIHByb3ZpZGVkIFttZXNzYWdlXSB0byB0aGUgZGV2aWNlIGxvZ3MuXG4gICAqIE5vdGU6IElmIGRlYnVnIGxvZ2dpbmcgaXMgdHVybmVkIG9mZiwgdGhpcyB3b24ndCBkbyBhbnl0aGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gYXBwZW5kIHRvIHRoZSBkZXZpY2UgbG9ncy5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggdGhlIGxvZ1xuICAgKiBtZXNzYWdlIHJlY2VpdmVkIGJ5IHRoZSBuYXRpdmUgbGF5ZXIgZm9yIGFwcGVuZGluZy4gVGhlIHJldHVybmVkIG1lc3NhZ2VcbiAgICogaXMgZXhwZWN0ZWQgdG8gYmUgZXF1aXZhbGVudCB0byB0aGUgb25lIHByb3ZpZGVkIGluIHRoZSBvcmlnaW5hbCBjYWxsLlxuICAgKi9cbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcbiAgYXBwZW5kVG9EZXZpY2VMb2cobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG4iXX0=