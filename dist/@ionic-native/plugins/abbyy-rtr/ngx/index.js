var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { Injectable } from '@angular/core';
import { IonicNativePlugin, checkAvailability } from '@ionic-native/core';
var AbbyyRTR = /** @class */ (function (_super) {
    __extends(AbbyyRTR, _super);
    function AbbyyRTR() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AbbyyRTR.prototype.startTextCapture = function (options) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new Promise(function (resolve, reject) {
                    AbbyyRtrSdk.startTextCapture(function (result) {
                        if (result.error) {
                            reject(result);
                        }
                        else {
                            resolve(result);
                        }
                    }, options);
                });
            }
        })();
    };
    AbbyyRTR.prototype.startDataCapture = function (options) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new Promise(function (resolve, reject) {
                    AbbyyRtrSdk.startDataCapture(function (result) {
                        if (result.error) {
                            reject(result);
                        }
                        else {
                            resolve(result);
                        }
                    }, options);
                });
            }
        })();
    };
    AbbyyRTR.pluginName = "AbbyyRTR";
    AbbyyRTR.plugin = "cordova-plugin-abbyy-rtr-sdk";
    AbbyyRTR.pluginRef = "AbbyyRtrSdk";
    AbbyyRTR.repo = "https://github.com/abbyysdk/RTR-SDK.Cordova";
    AbbyyRTR.install = "ionic cordova plugin add cordova-plugin-abbyy-rtr-sdk";
    AbbyyRTR.platforms = ["Android", "iOS"];
    AbbyyRTR = __decorate([
        Injectable()
    ], AbbyyRTR);
    return AbbyyRTR;
}(IonicNativePlugin));
export { AbbyyRTR };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2FiYnl5LXJ0ci9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyx3Q0FBMkMsTUFBTSxvQkFBb0IsQ0FBQzs7SUErUy9DLDRCQUFpQjs7OztJQU83QyxtQ0FBZ0IsYUFBQyxPQUEyQjs7O21EQUE4QjtnQkFDeEUsT0FBTyxJQUFJLE9BQU8sQ0FBTSxVQUFDLE9BQU8sRUFBRSxNQUFNO29CQUN0QyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsVUFBQyxNQUF5Qjt3QkFDckQsSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFOzRCQUNoQixNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7eUJBQ2hCOzZCQUFNOzRCQUNMLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzt5QkFDakI7b0JBQ0gsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNkLENBQUMsQ0FBQyxDQUFDO2FBQ0o7OztJQVFELG1DQUFnQixhQUFDLE9BQTJCOzs7bURBQThCO2dCQUN4RSxPQUFPLElBQUksT0FBTyxDQUFNLFVBQUMsT0FBTyxFQUFFLE1BQU07b0JBQ3RDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFDLE1BQXlCO3dCQUNyRCxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7NEJBQ2hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzt5QkFDaEI7NkJBQU07NEJBQ0wsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3lCQUNqQjtvQkFDSCxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2QsQ0FBQyxDQUFDLENBQUM7YUFDSjs7Ozs7Ozs7O0lBbkNVLFFBQVE7UUFEcEIsVUFBVSxFQUFFO09BQ0EsUUFBUTttQkFoVHJCO0VBZ1Q4QixpQkFBaUI7U0FBbEMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmFDaGVjaywgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbmRlY2xhcmUgY29uc3QgQWJieXlSdHJTZGs6IGFueTtcblxuLyoqXG4gKiBKU09OIG9iamVjdCB0aGF0IHlvdSBjYW4gcGFzcyBhcyB0aGUgb3B0aW9ucyBhcmd1bWVudCB0byBjaGFuZ2UgdGV4dFxuICogY2FwdHVyZSBzZXR0aW5ncy4gQWxsIGtleXMgYXJlIG9wdGlvbmFsLiBPbWl0dGluZyBhIGtleSBtZWFucyB0aGF0IGFcbiAqIGRlZmF1bHQgc2V0dGluZyB3aWxsIGJlIHVzZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dENhcHR1cmVPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBsaWNlbnNlIGZpbGUuIFRoaXMgZmlsZSBtdXN0IGJlIGxvY2F0ZWQgaW4gdGhlXG4gICAqIHd3dy9ydHJfYXNzZXRzLyBkaXJlY3RvcnkgaW4geW91ciBwcm9qZWN0LlxuICAgKi9cbiAgbGljZW5zZUZpbGVOYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZWNvZ25pdGlvbiBsYW5ndWFnZXMgd2hpY2ggY2FuIGJlIHNlbGVjdGVkIGJ5IHRoZSB1c2VyLFxuICAgKiBmb3IgZXhhbXBsZTogW1wiRW5nbGlzaFwiLCBcIkZyZW5jaFwiLCBcIkdlcm1hblwiXS4gRW1wdHkgYXJyYXlcbiAgICogZGlzYWJsZXMgbGFuZ3VhZ2Ugc2VsZWN0aW9uLlxuICAgKi9cbiAgc2VsZWN0YWJsZVJlY29nbml0aW9uTGFuZ3VhZ2VzPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFJlY29nbml0aW9uIGxhbmd1YWdlIHNlbGVjdGVkIGJ5IGRlZmF1bHQuXG4gICAqL1xuICByZWNvZ25pdGlvbkxhbmd1YWdlcz86IHN0cmluZ1tdO1xuXG4gIC8qKlxuICAgKiBXaWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSByZWNvZ25pdGlvbiBhcmVhLCBzZXBhcmF0ZWQgYnkgYVxuICAgKiB3aGl0ZXNwYWNlIOKAlCBmb3IgZXhhbXBsZTogXCIwLjggMC4zXCIuIFRoZSBhcmVhIG9mIGludGVyZXN0IGlzXG4gICAqIGNlbnRlcmVkIGluIHRoZSBwcmV2aWV3IGZyYW1lLCBpdHMgd2lkdGggYW5kIGhlaWdodCBhcmVcbiAgICogcmVsYXRpdmUgdG8gdGhlIHByZXZpZXcgZnJhbWUgc2l6ZSBhbmQgc2hvdWxkIGJlIGluIHRoZSBbMC4wLCAxLjBdIHJhbmdlLlxuICAgKi9cbiAgYXJlYU9mSW50ZXJlc3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RvcCB0aGUgcGx1Z2luIGFzIHNvb24gYXMgdGhlIHJlc3VsdCBzdGF0dXMgaXNcbiAgICogXCJTdGFibGVcIiAoc2VlIFJlc3VsdCBzdGF0dXMpLiBXaGVuIGVuYWJsZWQgKHRydWUpLCB0aGVcbiAgICogcmVjb2duaXRpb24gcHJvY2VzcyBjYW4gYmUgc3RvcHBlZCBhdXRvbWF0aWNhbGx5LiBXaGVuXG4gICAqIGRpc2FibGVkIChmYWxzZSksIHJlY29nbml0aW9uIGNhbiBiZSBzdG9wcGVkIG9ubHkgbWFudWFsbHlcbiAgICogYnkgdXNlci5cbiAgICovXG4gIHN0b3BXaGVuU3RhYmxlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2hvdyAodHJ1ZSkgb3IgaGlkZSAoZmFsc2UpIHRoZSBmbGFzaGxpZ2h0IGJ1dHRvbiBpbiB0aGUgdGV4dFxuICAgKiBjYXB0dXJlIGRpYWxvZy5cbiAgICovXG4gIGlzRmxhc2hsaWdodFZpc2libGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTaG93ICh0cnVlKSBvciBoaWRlIChmYWxzZSkgdGhlIHN0b3AgYnV0dG9uIGluIHRoZSB0ZXh0XG4gICAqIGNhcHR1cmUgZGlhbG9nLiBXaGVuIHRoZSB1c2VyIHRhcHMgc3RvcCwgUlRSIFNESyByZXR1cm5zXG4gICAqIHRoZSBsYXRlc3QgcmVjb2duaXRpb24gcmVzdWx0LlxuICAgKi9cbiAgaXNTdG9wQnV0dG9uVmlzaWJsZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgdGhlIG9yaWVudGF0aW9uLCBwb3NzaWJsZSB2YWx1ZXMgJ2xhbmRzY2FwZScgb3IgJ3BvcnRyYWl0Jy5cbiAgICovXG4gIG9yaWVudGF0aW9uPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEpTT04gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0ZXh0IHJlY29nbml0aW9uIHJlc3VsdHMuXG4gKiBUaGUgY2FsbGJhY2sgeW91IGltcGxlbWVudCBzaG91bGQgcGFyc2UgdGhpcyBvYmplY3QgYW5kIHNob3cgcmVzdWx0cyB0byB1c2VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRleHRDYXB0dXJlUmVzdWx0IHtcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIG9iamVjdHMgcmVwcmVzZW50aW5nIHJlY29nbml6ZWQgbGluZXMgb2YgdGV4dC5cbiAgICogVGhlc2Ugb2JqZWN0cyBoYXZlIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogwrcgdGV4dCAoc3RyaW5nKTogdGhlIHJlY29nbml6ZWQgdGV4dC5cbiAgICogwrcgcXVhZHJhbmdsZSAoc3RyaW5nKTogdmVydGV4IGNvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGluZyBxdWFkcmFuZ2xlLFxuICAgKiAgIGEgc3RyaW5nIG9mIDggaW50ZWdlcnMgc2VwYXJhdGVkIHdpdGggd2hpdGVzcGFjZXMgKFwieDEgeTEgLi4uIHg0IHk0XCIpLFxuICAgKiAgIGdvZXMgY2xvY2t3aXNlIHN0YXJ0aW5nIGZyb20gdGhlIGJvdHRvbSBsZWZ0LlxuICAgKiDCtyByZWN0IChzdHJpbmcpOiBwb3NpdGlvbiBhbmQgc2l6ZSBvZiB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlLFxuICAgKiAgIGEgc3RyaW5nIG9mIDQgaW50ZWdlcnMgc2VwYXJhdGVkIHdpdGggd2hpdGVzcGFjZXMgKFwieCB5IHdpZHRoIGhlaWdodFwiKS5cbiAgICovXG4gIHRleHRMaW5lczogeyB0ZXh0OiBzdHJpbmc7IHF1YWRyYW5nbGU6IHN0cmluZzsgcmVjdD86IHN0cmluZyB9W107XG5cbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24uIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIMK3IHN0YWJpbGl0eVN0YXR1cyAoc3RyaW5nKTogcmVzdWx0IHN0YWJpbGl0eSBzdGF0dXMuXG4gICAqICAgU2VlIFJlc3VsdCBzdGF0dXMgZm9yIGRldGFpbHMuXG4gICAqIMK3IHVzZXJBY3Rpb24gKHN0cmluZyk6IHRoZSB1c2VyJ3MgYWN0aW9uIHdoaWNoIHN0b3BwZWQgdGhlIHBsdWdpbixcbiAgICogICBpZiBhbnkuIENhbiBiZSBcIk1hbnVhbGx5IFN0b3BwZWRcIiBpZiB0aGUgc3RvcCBidXR0b24gaGFzIGJlZW4gdXNlZCxcbiAgICogICBhbmQgXCJDYW5jZWxlZFwiIGlmIHRoZSB1c2VyIGNhbmNlbGVkIHByb2Nlc3NpbmcuIElmIHRoZSBwbHVnaW4gaGFzXG4gICAqICAgc3RvcHBlZCBhdXRvbWF0aWNhbGx5LCB0aGUgdXNlckFjdGlvbiBrZXkgaXMgbm90IHByZXNlbnQgaW4gcmVzdWx0SW5mby5cbiAgICogwrcgZnJhbWVTaXplIChzdHJpbmcpOiBmdWxsIHNpemUgb2YgdGhlIHByZXZpZXcgZnJhbWUsIGEgc3RyaW5nXG4gICAqICAgd2l0aCAyIGludGVnZXJzIHNlcGFyYXRlZCB3aXRoIGEgd2hpdGVzcGFjZSAoXCI3MjAgMTI4MFwiKS5cbiAgICogwrcgcmVjb2duaXRpb25MYW5ndWFnZXMgKHN0cmluZyBhcnJheSk6IGxhbmd1YWdlcyB1c2VkIGZvciByZWNvZ25pdGlvbixcbiAgICogICB0aGUgYXJyYXkgY29udGFpbnMgbGFuZ3VhZ2UgaWRlbnRpZmllcnMgKFtcIkVuZ2xpc2hcIiwgXCJGcmVuY2hcIiwgXCJHZXJtYW5cIl0pLlxuICAgKi9cbiAgcmVzdWx0SW5mbzoge1xuICAgIHN0YWJpbGl0eVN0YXR1czogc3RyaW5nO1xuICAgIHVzZXJBY3Rpb246IHN0cmluZztcbiAgICBmcmFtZVNpemU6IHN0cmluZztcbiAgICByZWNvZ25pdGlvbkxhbmd1YWdlczogc3RyaW5nW107XG4gIH07XG5cbiAgLyoqXG4gICAqIEVycm9yIGRldGFpbHMuIFRoaXMga2V5IGlzIHByZXNlbnQgb25seSBpZiBhbiBlcnJvciBvY2N1cnMuXG4gICAqIFRoZSB2YWx1ZSBpcyBhbiBvYmplY3Qgd2hpY2ggaGFzIGEgc2luZ2xlIGtleTpcbiAgICogwrcgZGVzY3JpcHRpb24gKHN0cmluZyk6IGh1bWFuLXJlYWRhYmxlIGVycm9yIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgZXJyb3I/OiB7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgfTtcbn1cblxuLyoqXG4gKiBKU09OIG9iamVjdCB0aGF0IHlvdSBjYW4gcGFzcyBhcyB0aGUgb3B0aW9ucyBhcmd1bWVudCB0byBjaGFuZ2UgZGF0YVxuICogY2FwdHVyZSBzZXR0aW5ncy4gQWxsIGtleXMgYXJlIG9wdGlvbmFsLiBPbWl0dGluZyBhIGtleSBtZWFucyB0aGF0IGEgZGVmYXVsdFxuICogc2V0dGluZyB3aWxsIGJlIHVzZWQsIGV4Y2VwdCB0aGUgcHJvZmlsZSBhbmQgY3VzdG9tRGF0YUNhcHR1cmVTY2VuYXJpb1xuICoga2V5czogeW91IG11c3Qgc3BlY2lmeSBlaXRoZXIgb25lIG9mIHRoZW0sIGJ1dCBub3QgYm90aCBhdCB0aGUgc2FtZSB0aW1lLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhdGFDYXB0dXJlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgcHJlZGVmaW5lZCBkYXRhIGNhcHR1cmUgcHJvZmlsZSB0byB1c2UsIGZvciBleGFtcGxlOiBcIk1SWlwiLlxuICAgKiBOb3RlOiBGb3IgdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGRvY3VtZW50cywgc2VlIFNwZWNpZmljYXRpb25zIOKAlCBEYXRhXG4gICAqIENhcHR1cmUgUHJvZmlsZXMgaW4gdGhlIEFCQllZIFJlYWwtVGltZSBSZWNvZ25pdGlvbiBTREsgMSBEZXZlbG9wZXIncyBHdWlkZS5cbiAgICovXG4gIHByb2ZpbGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGNhcHR1cmUgc2V0dGluZ3MuIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIMK3IG5hbWUgKHN0cmluZyk6IHRoZSBuYW1lIG9mIHlvdXIgY3VzdG9tIGRhdGEgY2FwdHVyZSBzY2VuYXJpbywgcmVxdWlyZWQuXG4gICAqIMK3IGRlc2NyaXB0aW9uIChzdHJpbmcpOiBhIG1vcmUgZGV0YWlsZWQgZGVzY3JpcHRpb24uIFRoaXMga2V5IGlzIG9wdGlvbmFsO1xuICAgKiAgIGlmIG5vdCBnaXZlbiwgaXQgd2lsbCBiZSBhc3NpZ25lZCB0aGUgc2FtZSB2YWx1ZSBhcyBuYW1lLlxuICAgKiDCtyByZWNvZ25pdGlvbkxhbmd1YWdlcyAoc3RyaW5nIGFycmF5KTogcmVjb2duaXRpb24gbGFuZ3VhZ2VzIHRvIHVzZS5cbiAgICogICBEZWZhdWx0IGlzIFtcIkVuZ2xpc2hcIl0uXG4gICAqIMK3IGZpZWxkcyAob2JqZWN0IGFycmF5KTogZGVzY3JpYmVzIGRhdGEgZmllbGRzIHRvIGNhcHR1cmUuIEVhY2ggb2JqZWN0XG4gICAqICAgaW4gdGhpcyBhcnJheSBoYXMgYSBzaW5nbGUgcmVnRXgga2V5OyBpdHMgdmFsdWUgaXMgYSBzdHJpbmcgY29udGFpbmluZ1xuICAgKiAgIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBzaG91bGQgYmUgbWF0Y2hlZCB3aGVuIGNhcHR1cmluZyBhIGZpZWxkLlxuICAgKi9cbiAgY3VzdG9tRGF0YUNhcHR1cmVTY2VuYXJpbz86IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICByZWNvZ25pdGlvbkxhbmd1YWdlczogc3RyaW5nW107XG4gICAgZmllbGRzOiB7IHJlZ0V4OiBzdHJpbmcgfVtdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgbGljZW5zZSBmaWxlLiBUaGlzIGZpbGUgbXVzdCBiZSBsb2NhdGVkIGluIHRoZVxuICAgKiB3d3cvcnRyX2Fzc2V0cy8gZGlyZWN0b3J5IGluIHlvdXIgcHJvamVjdC5cbiAgICovXG4gIGxpY2Vuc2VGaWxlTmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogV2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVjb2duaXRpb24gYXJlYSwgc2VwYXJhdGVkIGJ5IGFcbiAgICogd2hpdGVzcGFjZSDigJQgZm9yIGV4YW1wbGU6IFwiMC44IDAuM1wiLiBUaGUgYXJlYSBvZiBpbnRlcmVzdCBpc1xuICAgKiBjZW50ZXJlZCBpbiB0aGUgcHJldmlldyBmcmFtZSwgaXRzIHdpZHRoIGFuZCBoZWlnaHQgYXJlXG4gICAqIHJlbGF0aXZlIHRvIHRoZSBwcmV2aWV3IGZyYW1lIHNpemUgYW5kIHNob3VsZCBiZSBpbiB0aGUgWzAuMCwgMS4wXSByYW5nZS5cbiAgICovXG4gIGFyZWFPZkludGVyZXN0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN0b3AgdGhlIHBsdWdpbiBhcyBzb29uIGFzIHRoZSByZXN1bHQgc3RhdHVzIGlzXG4gICAqIFwiU3RhYmxlXCIgKHNlZSBSZXN1bHQgc3RhdHVzKS4gV2hlbiBlbmFibGVkICh0cnVlKSwgdGhlXG4gICAqIHJlY29nbml0aW9uIHByb2Nlc3MgY2FuIGJlIHN0b3BwZWQgYXV0b21hdGljYWxseS4gV2hlblxuICAgKiBkaXNhYmxlZCAoZmFsc2UpLCByZWNvZ25pdGlvbiBjYW4gYmUgc3RvcHBlZCBvbmx5IG1hbnVhbGx5XG4gICAqIGJ5IHVzZXIuXG4gICAqL1xuICBzdG9wV2hlblN0YWJsZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNob3cgKHRydWUpIG9yIGhpZGUgKGZhbHNlKSB0aGUgZmxhc2hsaWdodCBidXR0b24gaW4gdGhlIHRleHRcbiAgICogY2FwdHVyZSBkaWFsb2cuXG4gICAqL1xuICBpc0ZsYXNobGlnaHRWaXNpYmxlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2hvdyAodHJ1ZSkgb3IgaGlkZSAoZmFsc2UpIHRoZSBzdG9wIGJ1dHRvbiBpbiB0aGUgdGV4dFxuICAgKiBjYXB0dXJlIGRpYWxvZy4gV2hlbiB0aGUgdXNlciB0YXBzIHN0b3AsIFJUUiBTREsgcmV0dXJuc1xuICAgKiB0aGUgbGF0ZXN0IHJlY29nbml0aW9uIHJlc3VsdC5cbiAgICovXG4gIGlzU3RvcEJ1dHRvblZpc2libGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTcGVjaWZ5IHRoZSBvcmllbnRhdGlvbiwgcG9zc2libGUgdmFsdWVzICdsYW5kc2NhcGUnIG9yICdwb3J0cmFpdCcuXG4gICAqL1xuICBvcmllbnRhdGlvbj86IHN0cmluZztcbn1cblxuLyoqXG4gKiBKU09OIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgZGF0YSByZWNvZ25pdGlvbiByZXN1bHRzLiBUaGUgY2FsbGJhY2sgeW91XG4gKiBpbXBsZW1lbnQgc2hvdWxkIHBhcnNlIHRoaXMgb2JqZWN0IGFuZCBzaG93IHJlc3VsdHMgdG8gdXNlci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYXRhQ2FwdHVyZVJlc3VsdCB7XG4gIC8qKlxuICAgKiBUaGUgZGF0YSBzY2hlbWUgd2hpY2ggd2FzIGFwcGxpZWQgZHVyaW5nIGRhdGEgY2FwdHVyZS5cbiAgICogVGhlIHZhbHVlIGlzIGFuIG9iamVjdCB3aGljaCBoYXMgdHdvIGtleXM6XG4gICAqIMK3IGlkIChzdHJpbmcpOiB0aGUgaW50ZXJuYWwgc2NoZW1lIGlkZW50aWZpZXIuXG4gICAqIMK3IG5hbWUgKHN0cmluZyk6IHRoZSBzY2hlbWUgbmFtZS5cbiAgICogSWYgeW91IGhhZCBkZWZpbmVkIGEgY3VzdG9tIGRhdGEgY2FwdHVyZSBzY2VuYXJpbyBpbiBvcHRpb25zLCBib3RoIHRoZVxuICAgKiBpZCBhbmQgbmFtZSB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSBzY2VuYXJpbyBuYW1lIHlvdSBzcGVjaWZpZWQuIElmXG4gICAqIHlvdSBzZWxlY3RlZCBhIHByZWRlZmluZWQgcHJvZmlsZSwgdGhlIGlkIGFuZCBuYW1lIGFyZSBzcGVjaWZpZWQgYnkgdGhlXG4gICAqIHByb2ZpbGUuIElmIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgcHJvY2Vzc2luZywgdGhlIGRhdGFTY2hlbWUga2V5IGlzIG5vdFxuICAgKiBwcmVzZW50IGluIHRoZSByZXN1bHQuXG4gICAqL1xuICBkYXRhU2NoZW1lPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWNvZ25pemVkIGRhdGEgZmllbGRzLiBFYWNoIG9iamVjdCBpbiB0aGUgYXJyYXkgcmVwcmVzZW50cyBhIHNlcGFyYXRlXG4gICAqIGRhdGEgZmllbGQuIFRoZSBkYXRhIGZpZWxkIG9iamVjdHMgaGF2ZSB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAqIMK3IGlkIChzdHJpbmcpOiB0aGUgaW50ZXJuYWwgaWRlbnRpZmllciBvZiB0aGUgZmllbGQuXG4gICAqIMK3IG5hbWUgKHN0cmluZyk6IHRoZSBmaWVsZCBuYW1lLlxuICAgKiBTaW1pbGFybHkgdG8gZGF0YVNjaGVtZSwgaW4gY3VzdG9tIHNjZW5hcmlvcyBib3RoIGlkIGFuZCBuYW1lIGFyZSB0aGUgc2FtZVxuICAgKiBhcyB0aGUgc2NlbmFyaW8gbmFtZSB5b3Ugc3BlY2lmaWVkIChjdXJyZW50bHkgY3VzdG9tIHNjZW5hcmlvcyBhbGxvd1xuICAgKiBvbmx5IDEgcmVjb2duaXplZCBmaWVsZCkuXG4gICAqIMK3IHRleHQgKHN0cmluZyk6IGZ1bGwgdGV4dCBvZiB0aGUgZmllbGQuXG4gICAqIMK3IHF1YWRyYW5nbGUgKHN0cmluZyk6IHZlcnRleCBjb29yZGluYXRlcyBvZiB0aGUgYm91bmRpbmcgcXVhZHJhbmdsZSwgYVxuICAgKiAgIHN0cmluZyBvZiA4IGludGVnZXJzIHNlcGFyYXRlZCB3aXRoIHdoaXRlc3BhY2VzIChcIngxIHkxIC4uLiB4NCB5NFwiKSxcbiAgICogICBnb2VzIGNsb2Nrd2lzZSBzdGFydGluZyBmcm9tIHRoZSBib3R0b20gbGVmdC5cbiAgICogwrcgY29tcG9uZW50cyAob2JqZWN0IGFycmF5KTogYW4gYXJyYXkgb2Ygb2JqZWN0cyByZXByZXNlbnRpbmcgZmllbGRcbiAgICogICBjb21wb25lbnRzLCB0aGF0IGlzLCB0aGUgdGV4dCBmcmFnbWVudHMgZm91bmQgb24gdGhlIGltYWdlLCB3aGljaFxuICAgKiAgIGNvbnN0aXR1dGUgdGhlIGZpZWxkLlxuICAgKiBJbiB0aGUgY29tcG9uZW50cyBhcnJheSBlYWNoIGVsZW1lbnQgaXMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgKiDCtyB0ZXh0IChzdHJpbmcpOiB0ZXh0IG9mIHRoaXMgZnJhZ21lbnQuXG4gICAqIMK3IHF1YWRyYW5nbGUgKHN0cmluZyk6IHZlcnRleCBjb29yZGluYXRlcyBvZiB0aGUgYm91bmRpbmcgcXVhZHJhbmdsZSBvZlxuICAgKiAgIHRoaXMgZnJhZ21lbnQsIHNpbWlsYXIgdG8gdGhlIGZpZWxkJ3MgcXVhZHJhbmdsZS5cbiAgICogwrcgcmVjdCAoc3RyaW5nKTogcG9zaXRpb24gYW5kIHNpemUgb2YgdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSwgYSBzdHJpbmdcbiAgICogICBvZiA0IGludGVnZXJzIHNlcGFyYXRlZCB3aXRoIHdoaXRlc3BhY2VzIChcInggeSB3aWR0aCBoZWlnaHRcIikuXG4gICAqL1xuICBkYXRhRmllbGRzOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHF1YWRyYW5nbGU6IHN0cmluZztcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICBxdWFkcmFuZ2xlOiBzdHJpbmc7XG4gICAgICByZWN0OiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkaXRpb25hbCBpbmZvcm1hdGlvbi4gVGhpcyBvYmplY3QgaGFzIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogwrcgc3RhYmlsaXR5U3RhdHVzIChzdHJpbmcpOiByZXN1bHQgc3RhYmlsaXR5IHN0YXR1cy5cbiAgICogICBTZWUgUmVzdWx0IHN0YXR1cyBmb3IgZGV0YWlscy5cbiAgICogwrcgdXNlckFjdGlvbiAoc3RyaW5nKTogdGhlIHVzZXIncyBhY3Rpb24gd2hpY2ggc3RvcHBlZCB0aGUgcGx1Z2luLFxuICAgKiAgIGlmIGFueS4gQ2FuIGJlIFwiTWFudWFsbHkgU3RvcHBlZFwiIGlmIHRoZSBzdG9wIGJ1dHRvbiBoYXMgYmVlbiB1c2VkLFxuICAgKiAgIGFuZCBcIkNhbmNlbGVkXCIgaWYgdGhlIHVzZXIgY2FuY2VsZWQgcHJvY2Vzc2luZy4gSWYgdGhlIHBsdWdpbiBoYXNcbiAgICogICBzdG9wcGVkIGF1dG9tYXRpY2FsbHksIHRoZSB1c2VyQWN0aW9uIGtleSBpcyBub3QgcHJlc2VudCBpbiByZXN1bHRJbmZvLlxuICAgKiDCtyBmcmFtZVNpemUgKHN0cmluZyk6IGZ1bGwgc2l6ZSBvZiB0aGUgcHJldmlldyBmcmFtZSwgYSBzdHJpbmdcbiAgICogICB3aXRoIDIgaW50ZWdlcnMgc2VwYXJhdGVkIHdpdGggYSB3aGl0ZXNwYWNlIChcIjcyMCAxMjgwXCIpLlxuICAgKi9cbiAgcmVzdWx0SW5mbzoge1xuICAgIHN0YWJpbGl0eVN0YXR1czogc3RyaW5nO1xuICAgIHVzZXJBY3Rpb246IHN0cmluZztcbiAgICBmcmFtZVNpemU6IHN0cmluZztcbiAgfTtcblxuICAvKipcbiAgICogRXJyb3IgZGV0YWlscy4gVGhpcyBrZXkgaXMgcHJlc2VudCBvbmx5IGlmIGFuIGVycm9yIG9jY3Vycy5cbiAgICogVGhlIHZhbHVlIGlzIGFuIG9iamVjdCB3aGljaCBoYXMgYSBzaW5nbGUga2V5OlxuICAgKiDCtyBkZXNjcmlwdGlvbiAoc3RyaW5nKTogaHVtYW4tcmVhZGFibGUgZXJyb3IgZGVzY3JpcHRpb24uXG4gICAqL1xuICBlcnJvcj86IHtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB9O1xufVxuXG4vKipcbiAqIEBuYW1lIEFCQllZIFJlYWwtVGltZSBSZWNvZ25pdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIHBsdWdpbiBhbGxvd3MgdG8gdXNlIHRoZSBUZXh0IENhcHR1cmUgYW5kIERhdGEgQ2FwdHVyZSBmZWF0dXJlcyBvZlxuICogQUJCWVkgUmVhbC1UaW1lIFJlY29nbml0aW9uIFNESyAoUlRSIFNESykgaW4gYXBwcy5cbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEFiYnl5UlRSIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9hYmJ5eS1ydHIvbmd4JztcbiAqXG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBhYmJ5eVJUUjogQWJieXlSVFIpIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLmFiYnl5UlRSLnN0YXJ0VGV4dENhcHR1cmUob3B0aW9ucylcbiAqICAgLnRoZW4oKHJlczogYW55KSA9PiBjb25zb2xlLmxvZyhyZXMpKVxuICogICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTtcbiAqXG4gKlxuICogdGhpcy5hYmJ5eVJUUi5zdGFydERhdGFDYXB0dXJlKG9wdGlvbnMpXG4gKiAgIC50aGVuKChyZXM6IGFueSkgPT4gY29uc29sZS5sb2cocmVzKSlcbiAqICAgLmNhdGNoKChlcnJvcjogYW55KSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSk7XG4gKlxuICogYGBgXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnQWJieXlSVFInLFxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1hYmJ5eS1ydHItc2RrJyxcbiAgcGx1Z2luUmVmOiAnQWJieXlSdHJTZGsnLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2FiYnl5c2RrL1JUUi1TREsuQ29yZG92YScsXG4gIGluc3RhbGw6ICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgY29yZG92YS1wbHVnaW4tYWJieXktcnRyLXNkaycsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFiYnl5UlRSIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogT3BlbnMgYSBtb2RhbCBkaWFsb2cgd2l0aCBjb250cm9scyBmb3IgdGhlIFRleHQgQ2FwdHVyZSBzY2VuYXJpby5cbiAgICogQHBhcmFtIHtUZXh0Q2FwdHVyZU9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHJldHVybiB7UHJvbWlzZTxUZXh0Q2FwdHVyZVJlc3VsdD59XG4gICAqL1xuICBAQ29yZG92YUNoZWNrKClcbiAgc3RhcnRUZXh0Q2FwdHVyZShvcHRpb25zOiBUZXh0Q2FwdHVyZU9wdGlvbnMpOiBQcm9taXNlPFRleHRDYXB0dXJlUmVzdWx0PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgQWJieXlSdHJTZGsuc3RhcnRUZXh0Q2FwdHVyZSgocmVzdWx0OiBEYXRhQ2FwdHVyZVJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9LCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyBhIG1vZGFsIGRpYWxvZyB3aXRoIGNvbnRyb2xzIGZvciB0aGUgRGF0YSBDYXB0dXJlIHNjZW5hcmlvLlxuICAgKiBAcGFyYW0ge0RhdGFDYXB0dXJlT3B0aW9uc30gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtQcm9taXNlPERhdGFDYXB0dXJlUmVzdWx0Pn1cbiAgICovXG4gIEBDb3Jkb3ZhQ2hlY2soKVxuICBzdGFydERhdGFDYXB0dXJlKG9wdGlvbnM6IERhdGFDYXB0dXJlT3B0aW9ucyk6IFByb21pc2U8RGF0YUNhcHR1cmVSZXN1bHQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8YW55PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBBYmJ5eVJ0clNkay5zdGFydERhdGFDYXB0dXJlKChyZXN1bHQ6IERhdGFDYXB0dXJlUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG59XG4iXX0=